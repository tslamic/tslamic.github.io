<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Stuff &#8211; Tadej's Blog</title>
<meta name="description" content="Tadej's Blog">




<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Stuff">
<meta property="og:description" content="Tadej's Blog">
<meta property="og:url" content="/index.html">
<meta property="og:site_name" content="Tadej's Blog">





<link rel="canonical" href="/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Tadej's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
    <button class="dl-trigger">Open Menu</button>
    <ul class="dl-menu">
        <li><a href="/">Home</a></li>
        <li>
            <a href="#">About</a>
            <ul class="dl-submenu">
                <li>
                    <img src="/images/selfie.jpg" alt="Tadej Slamic photo" class="author-photo">
                    <h4>Tadej Slamic</h4>
                    <p>I'm a code monkey from Slovenia, currently living in Dublin. I love code, coffee and traveling.</p>
                </li>
                <li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li>
                
                
                
                
                
                <li>
                    <a href="http://linkedin.com/in/tadejslamic"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
                </li>
                
                
                <li>
                    <a href="http://github.com/tslamic"><i class="fa fa-fw fa-github"></i> GitHub</a>
                </li>
                
                
                <li>
                    <a href="http://stackoverflow.com/users/905349/curtisloew"><i class="fa fa-fw fa-stack-exchange"></i> Stack Overflow</a>
                </li>
                
                
                
                
            </ul>
            <!-- /.dl-submenu -->
        </li>
        <li>
            <a href="#">Posts</a>
            <ul class="dl-submenu">
                <li><a href="/posts/">All Posts</a></li>
                <li><a href="/tags/">All Tags</a></li>
            </ul>
        </li>
        <li>
            <a href="#">Projects</a>
            <ul class="dl-submenu">
                <li><a href="https://github.com/tslamic/FancyBackground">FancyBackground</a></li>
                <li><a href="https://github.com/tslamic/Dumpey">Dumpey</a></li>
                <li><a href="https://play.google.com/store/apps/details?id=com.tslamic.luas">Luas</a></li>
            </ul>
        </li>
        <li>
            
        <li>
            <a href="http://linkedin.com/in/tadejslamic"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
        </li>
        
        
        <li>
            <a href="http://github.com/tslamic"><i class="fa fa-fw fa-github"></i> GitHub</a>
        </li>
        
        
        <li>
            <a href="http://stackoverflow.com/users/905349/curtisloew"><i class="fa fa-fw fa-stack-exchange"></i> Stack Overflow</a>
        </li>
        
        </li>
    </ul>
    <!-- /.dl-menu -->
</nav>
<!-- /.dl-menuwrapper -->

<div class="entry-header">
  
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Tadej's Blog</h1>
      <h2>Latest Stuff</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/leaving-london/" title="Leaving London"><img src="/images/wajdusna.jpg" alt="Leaving London"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-11-17T00:00:00-05:00"><a href="/leaving-london/">November 17, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Tadej Slamic">Tadej Slamic</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/leaving-london/" rel="bookmark" title="Leaving London" itemprop="url">Leaving London</a></h1>
    
  </header>
  <div class="entry-content">
    <p>About a year ago, I bought a one way ticket to London.</p>

<p>I had a job waiting for me and all I had to do was to show up. Until then, I was sure the place I was living in is a slow-paced, boring and futureless town that will never become a city. I wanted to get out.</p>

<p>After buying the ticket, reality kicked in. I became sentimental and hesitant. I’m leaving my family. I’m leaving my friends. The place I grow up in, the forests, mountains and fresh air.  Mom’s dishes and nagging. Soccer after work and drinks in my favourite bar. The smell of freshly cut grass. The sun. Half an hour drive either to the snowy slopes or good enough beach. </p>

<p>It sure isn’t the most opportunistic and ambitious little town. But it’s <em>home</em>.</p>

<p>It was cold when I landed in Stansted. Looking through the dirty train window, I was petrified. Will I blend in with the new coworkers? Will I be up to the task?</p>

<p>It all turned out great. Friendly, talkative and cool coworkers from all over the world. Different language and environment. I was put out of my comfort zone. While easing in, I was learning, progressing and evolving. I became more confident in my knowledge and the code I wrote. I learned to use new tools and adopted new practices. Cut down the buzzwords when talking to non-tech people. I stopped waving my hands all the time. Do presentations!</p>

<p>One thing I picked up is for certain. You can never <em>learn</em> and <em>know</em> enough. Not only from books, articles and smart people - you can learn from <em>anyone</em>. Just pay attention and be open minded. Always think about the advice you are given, however stupid or useless you think it is. And <em>never</em> judge a book by its covers. Literally and metaphorically.</p>

<center>
  <figure>
     <img src="http://netdna.webdesignerdepot.com/uploads/2011/02/81.jpg" />
  </figure>
</center>

<p>I miss home. But I have grown as a person and that alone has made the move worthy. I learned. Experienced. And I don’t want to stop doing that. That’s why I’m leaving. I just started my new job in Dublin. I’m scared, but eager to learn.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/can-you-center-a-button/" title="To Center A Button"><img src="/images/abstract-5.jpg" alt="To Center A Button"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-10-12T00:00:00-04:00"><a href="/can-you-center-a-button/">October 12, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Tadej Slamic">Tadej Slamic</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/can-you-center-a-button/" rel="bookmark" title="To Center A Button" itemprop="url">To Center A Button</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Carloss Sessa of <a href="http://www.amazon.com/50-Android-Hacks-Carlos-Sessa/dp/1617290564">50 Android Hacks</a> starts off with an interesting problem: how to center a button that is 50% of its parent width?</p>

<center>
  <figure>
    <img src="http://i.imgur.com/DW6JWEo.png" />
    <figcaption>Pretty cool Android phone, huh?</figcaption>
  </figure>
</center>

<p>It’s easy to center a generic button. Using <code>FrameLayout</code>, one could simply set the appropriate layout gravity:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;FrameLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;default_schema&quot;</span>
             <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
             <span class="na">android:layout_height=</span><span class="s">&quot;match_parent&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;Button</span> <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
            <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
            <span class="na">android:layout_gravity=</span><span class="s">&quot;center&quot;</span>
            <span class="na">android:text=</span><span class="s">&quot;Button&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/FrameLayout&gt;</span></code></pre></div>

<p>But how to set the button width to 50% of its parent? I decided to create a custom <code>Button</code>. </p>

<p>When creating custom views, you usually want to override some <a href="http://developer.android.com/reference/android/view/View.html">standard methods</a> the framework uses. There are two I could consider in this case: </p>

<ul>
  <li><code>onMeasure</code> determines the size requirements for this view and all of its children</li>
  <li><code>onLayout</code> assigns a size and position to all of its children.</li>
</ul>

<p>Because the parent layout already provides the position I’m after, <code>onMeasure</code> will suffice.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CenteredButton</span> <span class="kd">extends</span> <span class="n">Button</span> <span class="o">{</span>

    <span class="c1">// Constructors ommited for clarity.</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onMeasure</span><span class="o">(</span><span class="kt">int</span> <span class="n">wMeasureSpec</span><span class="o">,</span> <span class="kt">int</span> <span class="n">hMeasureSpec</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onMeasure</span><span class="o">(</span><span class="n">wMeasureSpec</span><span class="o">,</span> <span class="n">hMeasureSpec</span><span class="o">);</span>

        <span class="kd">final</span> <span class="n">View</span> <span class="n">parent</span> <span class="o">=</span> <span class="o">(</span><span class="n">View</span><span class="o">)</span> <span class="n">getParent</span><span class="o">();</span>
        <span class="kd">final</span> <span class="kt">int</span> <span class="n">halfParentWidth</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="na">getWidth</span><span class="o">()</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>

        <span class="n">setMeasuredDimension</span><span class="o">(</span><span class="n">halfParentWidth</span><span class="o">,</span> <span class="n">getMeasuredHeight</span><span class="o">());</span>
    <span class="o">}</span>
    
<span class="o">}</span></code></pre></div>

<p>The custom <code>onMeasure</code> is straightforward: after invoking <code>super</code>, which provides initial measurements, we get the parent width, halve it and apply the result. Then, we tell the XML layout to use it:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;FrameLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;default_schema&quot;</span>
             <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
             <span class="na">android:layout_height=</span><span class="s">&quot;match_parent&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;path.to.CenteredButton</span> <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
                            <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
                            <span class="na">android:layout_gravity=</span><span class="s">&quot;center&quot;</span>
                            <span class="na">android:text=</span><span class="s">&quot;Button&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/FrameLayout&gt;</span></code></pre></div>

<p>It works! However, there’s a slight hiccup - the text is not centered. Applying <code>android:gravity="center"</code> doesn’t work:</p>

<center>
  <figure>
    <img src="http://i.imgur.com/4huD0rH.png" />
    <figcaption>"Button" text is not centered.</figcaption>
  </figure>
</center>

<p>Darn <code>super.onMeasure</code>! A closer look at the <a href="http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4.2_r1/android/widget/Button.java/">source code</a> reveals a simple text like “Button” is drawn with the help of a <code>BoringLayout</code>. The layout is also responsible for positioning the text based on the available height, width and gravity. </p>

<p>Since I only change the width after <code>super.onMeasure</code>, it has no effect to the initially calculated dimensions and position.</p>

<p>Is there a way to halve the width before <code>super.onMeasure</code>? Enter <a href="http://developer.android.com/reference/android/view/View.MeasureSpec.html">MeasureSpec</a>. Scary documentation hides its simple nature: the three modes, <code>AT_MOST</code>, <code>UNSPECIFIED</code> and <code>EXACTLY</code>, are a rough translation of the familiar <code>wrap_content</code>, <code>match_parent</code> and a specific size, e.g. <code>200dp</code>. </p>

<p>Two encoded values of the <code>onMeasure</code> method, <code>widthMeasureSpec</code> and <code>heightMeasureSpec</code> present the <code>MeasureSpec</code> values from its parent View. This is handy, we can easily extract the parent width from it: </p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">final</span> <span class="kt">int</span> <span class="n">parentWidth</span> <span class="o">=</span> <span class="n">MeasureSpec</span><span class="o">.</span><span class="na">getSize</span><span class="o">(</span><span class="n">widthMeasureSpec</span><span class="o">);</span></code></pre></div>

<p>If we could modify the <code>widthMeasureSpec</code> to be half its parent width, and pass it to the <code>super.onMeasure</code>, our work would be done. Fortunately, that’s easy:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onMeasure</span><span class="o">(</span><span class="kt">int</span> <span class="n">wMeasureSpec</span><span class="o">,</span> <span class="kt">int</span> <span class="n">hMeasureSpec</span><span class="o">)</span> <span class="o">{</span>
  <span class="kd">final</span> <span class="kt">int</span> <span class="n">widthSize</span> <span class="o">=</span> <span class="n">MeasureSpec</span><span class="o">.</span><span class="na">getSize</span><span class="o">(</span><span class="n">wMeasureSpec</span><span class="o">);</span>
  <span class="kd">final</span> <span class="kt">int</span> <span class="n">halfWidth</span> <span class="o">=</span> <span class="n">widthSize</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span>
  <span class="kd">final</span> <span class="kt">int</span> <span class="n">newMeasureSpec</span> <span class="o">=</span> 
    <span class="n">MeasureSpec</span><span class="o">.</span><span class="na">makeMeasureSpec</span><span class="o">(</span><span class="n">halfWidth</span><span class="o">,</span> <span class="n">MeasureSpec</span><span class="o">.</span><span class="na">EXACTLY</span><span class="o">);</span>
    
  <span class="kd">super</span><span class="o">.</span><span class="na">onMeasure</span><span class="o">(</span><span class="n">newMeasureSpec</span><span class="o">,</span> <span class="n">hMeasureSpec</span><span class="o">);</span>
<span class="o">}</span></code></pre></div>

<p>Mission accomplished! </p>

<p>Of course, Carlos did things a bit differently. To see his solution, go and buy his book.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/view-animations-on-android/" title="View Animations On Android"><img src="/images/abstract-5.jpg" alt="View Animations On Android"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-10-06T00:00:00-04:00"><a href="/view-animations-on-android/">October 06, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Tadej Slamic">Tadej Slamic</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~4 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/view-animations-on-android/" rel="bookmark" title="View Animations On Android" itemprop="url">View Animations On Android</a></h1>
    
  </header>
  <div class="entry-content">
    <p>The Android framework provides two animation systems:</p>

<ul>
  <li>Property animation (introduced in Android 3.0)</li>
  <li>View animation</li>
</ul>

<p>While property animation system is more flexible, offers more features and generally has better performance, the view animation system takes less time to setup and requires less code to write. If it accomplishes everything you need to do, there is no need to use the property animation system.</p>

<p>In this post, we’re going to focus on the basics of the latter one.</p>

<p>The view animation system is used to perform <em>tweened</em> animation on views. Tween stands for “in-between” and refers to the creation of successive frames of animation between the first and the last frame.</p>

<p>It can perform a series of simple transformations on a <code>View</code> object, changing:</p>

<ul>
  <li>position</li>
  <li>size</li>
  <li>rotation</li>
  <li>transparency</li>
</ul>

<p>The system lives in the <code>android.view.animation</code> package, with <code>Animation</code>, <code>AnimationSet</code> and <code>Interpolator</code> being the juicy parts.</p>

<p><code>Animation</code> class is responsible for a single animation. If our animation should change e.g. position <em>and</em> transparency, we’d have to use the <code>AnimationSet</code> class, since it represents a group of animations that should be played together.</p>

<p><code>Interpolator</code> defines the rate of change of an animation. We can specify, for example, how fast something is going to fade out or if the animation should be accelerating, decelerating, etc.</p>

<center>
  <figure>
    <a href="http://cogitolearning.co.uk/?p=1078" target="_blank">
      <img src="http://i.imgur.com/xVlimsR.png" />
    </a>
    <figcaption>Rate of change for some interpolators.</figcaption>
  </figure>
</center>

<p>Constructing an <code>Animation</code> is simple:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Animation</span> <span class="n">fadeOut</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">AlphaAnimation</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="n">fadeOut</span><span class="o">.</span><span class="na">setInterpolator</span><span class="o">(</span><span class="k">new</span> <span class="nf">AccelerateInterpolator</span><span class="o">());</span>
<span class="n">fadeOut</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span></code></pre></div>

<p>Remember the simple transformations we’re able to do: position, size, rotation and transparency? Android provides an implementation for each one, respectively:</p>

<ul>
  <li><code>TranslateAnimation</code></li>
  <li><code>ScaleAnimation</code></li>
  <li><code>RotateAnimation</code></li>
  <li><code>AlphaAnimation</code></li>
</ul>

<p>In our example, we’re using <code>AlphaAnimation</code> which is used for transparency transformations. The arguments, <code>1</code> and <code>0</code>, simply mean we wish the opacity to go from 100% to 0% - we want the view to fade out.</p>

<p>The second line of our example sets the <code>Interpolator</code>. Again, to make things easier for us, the package includes several subclasses specifying various speed curves. We’ve randomly chosen <code>AccelerateInterpolator</code>, which tells a transformation to start slow, then speed up. By default, every Animation uses a <code>LinearInterpolator</code>. Lastly, we set the millisecond duration for our animation to run.</p>

<p>Animations can be defined by either code or XML. Android designates a special folder where XML files should live: <code>res/anim</code>. Let’s create a file called <code>res/anim/fade_out.xml</code>:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;alpha</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">android:interpolator=</span><span class="s">&quot;@interpolator/accelerate_quad&quot;</span> 
    <span class="na">android:fromAlpha=</span><span class="s">&quot;1.0&quot;</span>
    <span class="na">android:toAlpha=</span><span class="s">&quot;0.0&quot;</span>
    <span class="na">android:duration=</span><span class="s">&quot;1000&quot;</span><span class="nt">/&gt;</span></code></pre></div>

<p>To use it, `AnimationUtils class provides a method that constructs the Animation:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Context</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">getContext</span><span class="o">();</span>
<span class="n">Animation</span> <span class="n">fade</span> <span class="o">=</span> <span class="n">AnimationUtils</span><span class="o">.</span><span class="na">loadAnimation</span><span class="o">(</span><span class="n">ctx</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">anim</span><span class="o">.</span><span class="na">fade_out</span><span class="o">);</span></code></pre></div>

<p>Suppose we wish to - besides fading out - shrink our view. Recall that in order to execute two or more animations at the same time, we have to use <code>AnimationSet</code>. This is as simple as creating an <code>Animation</code> and adding it to the <code>AnimationSet</code>:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// suppose fade is defined as in the code example above</span>

<span class="n">Animation</span> <span class="n">shrink</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ScaleAnimation</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="n">shrink</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="kd">final</span> <span class="n">AnimationSet</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">AnimationSet</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">fade</span><span class="o">);</span>
<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">shrink</span><span class="o">);</span>

<span class="c1">// suppose view variable exist, and points to a View instance</span>
<span class="n">view</span><span class="o">.</span><span class="na">startAnimation</span><span class="o">(</span><span class="n">set</span><span class="o">);</span></code></pre></div>

<p>If you do not wish to run all animations in the set at the same time, you can specifying the <em>start offset</em>. <code>fade</code> will run 1000 milliseconds. In order for <code>shrink</code> to be executed afterwards, it needs to wait 1000 millis:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">shrink</span><span class="o">.</span><span class="na">setStartOffset</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span></code></pre></div>

<p>Converting everything to XML yields:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;set</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;alpha</span>
    <span class="na">android:fromAlpha=</span><span class="s">&quot;1.0&quot;</span>
    <span class="na">android:toAlpha=</span><span class="s">&quot;0.0&quot;</span>
    <span class="na">android:interpolator=</span><span class="s">&quot;@android:interpolator/accelerate_quad&quot;</span>
    <span class="na">android:duration=</span><span class="s">&quot;1000&quot;</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;scale</span>
    <span class="na">android:fromXScale=</span><span class="s">&quot;1.0&quot;</span>
    <span class="na">android:toXScale=</span><span class="s">&quot;0.0&quot;</span>
    <span class="na">android:fromYScale=</span><span class="s">&quot;1.0&quot;</span>
    <span class="na">android:toYScale=</span><span class="s">&quot;0.0&quot;</span>
    <span class="na">android:duration=</span><span class="s">&quot;1000&quot;</span>
    <span class="na">android:startOffset=</span><span class="s">&quot;1000&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/set&gt;</span></code></pre></div>

<p>To conclude this rudimentary introduction to view animation, an interface is worth mentioning: <code>AnimationListener</code>. Suppose we wish to hide our view after an animation completes or just listen to animation events. All we have to do is:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Animation</span> <span class="n">fadeOut</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">AlphaAnimation</span><span class="o">(</span><span class="mi">1</span><span class="n">f</span><span class="o">,</span> <span class="mi">0</span><span class="n">f</span><span class="o">);</span>
<span class="n">fadeOut</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">fadeOut</span><span class="o">.</span><span class="na">setAnimationListener</span><span class="o">(</span><span class="k">new</span> <span class="n">Animation</span><span class="o">.</span><span class="na">AnimationListener</span><span class="o">()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationStart</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Do something when fadeOut starts</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationRepeat</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Do something if fadeOut is repeated</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationEnd</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">view</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">INVISIBLE</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">});</span>

<span class="n">view</span><span class="o">.</span><span class="na">startAnimation</span><span class="o">(</span><span class="n">fadeOut</span><span class="o">);</span></code></pre></div>

<p>If you wish to spice things up by browsing through some actual code, I’ve created a simple app showing random View animations. You can find it <a href="https://github.com/tslamic/AndroidExamples/tree/master/SimpleAnimationsExample">here</a>.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Previous
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    
      <li>
        
          <a href="/page2">2</a>
        
      </li>
    
  </ul>
  
    <a href="/page2" class="btn">Next</a>
  
</div><!-- /.pagination -->
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Tadej Slamic. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/" rel="notfollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>



          

</body>
</html>