<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>View Animations On Android &#8211; Tadej's Blog</title>
<meta name="description" content="A short but sweet intro to view animations on Android.">
<meta name="keywords" content="android, animation, view, interpolator">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="View Animations On Android">
<meta property="og:description" content="A short but sweet intro to view animations on Android.">
<meta property="og:url" content="/view-animations-on-android/">
<meta property="og:site_name" content="Tadej's Blog">





<link rel="canonical" href="/view-animations-on-android/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Tadej's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
    <button class="dl-trigger">Open Menu</button>

    <ul class="dl-menu">
        
        <li>
            <a href="/">Home</a>
        </li>

        <li>
            <a href="/about/">About</a>
        </li>

        <li>
            <a href="/posts/">Posts</a>
        </li>

        <li>
            <a href="/projects/">Projects</a>
        </li>

        
        <li>
            <a href="http://linkedin.com/in/tadejslamic"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
        </li>
        

        
        <li>
            <a href="http://github.com/tslamic"><i class="fa fa-fw fa-github"></i> GitHub</a>
        </li>
        
        
        
        <li>
            <a href="http://stackoverflow.com/users/905349/curtisloew"><i class="fa fa-fw fa-stack-exchange"></i> Stack Overflow</a>
        </li>
        

    </ul>
    
</nav>




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="/view-animations-on-android/" rel="bookmark" title="View Animations On Android">View Animations On Android</a></h1>
        
        <h2><span class="entry-date date published"><time datetime="2013-10-06T00:00:00-04:00">October 06, 2013</time></span></h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~4 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>The Android framework provides two animation systems:</p>

<ul>
  <li>Property animation (introduced in Android 3.0)</li>
  <li>View animation</li>
</ul>

<p>While property animation system is more flexible, offers more features and generally has better performance, the view animation system takes less time to setup and requires less code to write. If it accomplishes everything you need to do, there is no need to use the property animation system.</p>

<p>In this post, we’re going to focus on the basics of the latter one.</p>

<p>The view animation system is used to perform <em>tweened</em> animation on views. Tween stands for “in-between” and refers to the creation of successive frames of animation between the first and the last frame.</p>

<p>It can perform a series of simple transformations on a <code>View</code> object, changing:</p>

<ul>
  <li>position</li>
  <li>size</li>
  <li>rotation</li>
  <li>transparency</li>
</ul>

<p>The system lives in the <code>android.view.animation</code> package, with <code>Animation</code>, <code>AnimationSet</code> and <code>Interpolator</code> being the juicy parts.</p>

<p><code>Animation</code> class is responsible for a single animation. If our animation should change e.g. position <em>and</em> transparency, we’d have to use the <code>AnimationSet</code> class, since it represents a group of animations that should be played together.</p>

<p><code>Interpolator</code> defines the rate of change of an animation. We can specify, for example, how fast something is going to fade out or if the animation should be accelerating, decelerating, etc.</p>

<figure class="center-align">
    <a href="http://cogitolearning.co.uk/?p=1078" target="_blank">
      <img src="http://i.imgur.com/xVlimsR.png" />
    </a>
    <figcaption>Rate of change for some interpolators.</figcaption>
</figure>

<p>Constructing an <code>Animation</code> is simple:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Animation</span> <span class="n">fadeOut</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AlphaAnimation</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="n">fadeOut</span><span class="o">.</span><span class="na">setInterpolator</span><span class="o">(</span><span class="k">new</span> <span class="n">AccelerateInterpolator</span><span class="o">());</span>
<span class="n">fadeOut</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span></code></pre></div>

<p>Remember the simple transformations we’re able to do: position, size, rotation and transparency? Android provides an implementation for each one, respectively:</p>

<ul>
  <li><code>TranslateAnimation</code></li>
  <li><code>ScaleAnimation</code></li>
  <li><code>RotateAnimation</code></li>
  <li><code>AlphaAnimation</code></li>
</ul>

<p>In our example, we’re using <code>AlphaAnimation</code> which is used for transparency transformations. The arguments, <code>1</code> and <code>0</code>, simply mean we wish the opacity to go from 100% to 0% - we want the view to fade out.</p>

<p>The second line of our example sets the <code>Interpolator</code>. Again, to make things easier for us, the package includes several subclasses specifying various speed curves. We’ve randomly chosen <code>AccelerateInterpolator</code>, which tells a transformation to start slow, then speed up. By default, every Animation uses a <code>LinearInterpolator</code>. Lastly, we set the millisecond duration for our animation to run.</p>

<p>Animations can be defined by either code or XML. Android designates a special folder where XML files should live: <code>res/anim</code>. Let’s create a file called <code>res/anim/fade_out.xml</code>:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;alpha</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:interpolator=</span><span class="s">"@interpolator/accelerate_quad"</span> 
    <span class="na">android:fromAlpha=</span><span class="s">"1.0"</span>
    <span class="na">android:toAlpha=</span><span class="s">"0.0"</span>
    <span class="na">android:duration=</span><span class="s">"1000"</span><span class="nt">/&gt;</span></code></pre></div>

<p>To use it, `AnimationUtils class provides a method that constructs the Animation:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Context</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">getContext</span><span class="o">();</span>
<span class="n">Animation</span> <span class="n">fade</span> <span class="o">=</span> <span class="n">AnimationUtils</span><span class="o">.</span><span class="na">loadAnimation</span><span class="o">(</span><span class="n">ctx</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">anim</span><span class="o">.</span><span class="na">fade_out</span><span class="o">);</span></code></pre></div>

<p>Suppose we wish to - besides fading out - shrink our view. Recall that in order to execute two or more animations at the same time, we have to use <code>AnimationSet</code>. This is as simple as creating an <code>Animation</code> and adding it to the <code>AnimationSet</code>:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// suppose fade is defined as in the code example above</span>

<span class="n">Animation</span> <span class="n">shrink</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ScaleAnimation</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="n">shrink</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="kd">final</span> <span class="n">AnimationSet</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AnimationSet</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">fade</span><span class="o">);</span>
<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">shrink</span><span class="o">);</span>

<span class="c1">// suppose view variable exist, and points to a View instance</span>
<span class="n">view</span><span class="o">.</span><span class="na">startAnimation</span><span class="o">(</span><span class="n">set</span><span class="o">);</span></code></pre></div>

<p>If you do not wish to run all animations in the set at the same time, you can specifying the <em>start offset</em>. <code>fade</code> will run 1000 milliseconds. In order for <code>shrink</code> to be executed afterwards, it needs to wait 1000 millis:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">shrink</span><span class="o">.</span><span class="na">setStartOffset</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span></code></pre></div>

<p>Converting everything to XML yields:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;set</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;alpha</span>
    <span class="na">android:fromAlpha=</span><span class="s">"1.0"</span>
    <span class="na">android:toAlpha=</span><span class="s">"0.0"</span>
    <span class="na">android:interpolator=</span><span class="s">"@android:interpolator/accelerate_quad"</span>
    <span class="na">android:duration=</span><span class="s">"1000"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;scale</span>
    <span class="na">android:fromXScale=</span><span class="s">"1.0"</span>
    <span class="na">android:toXScale=</span><span class="s">"0.0"</span>
    <span class="na">android:fromYScale=</span><span class="s">"1.0"</span>
    <span class="na">android:toYScale=</span><span class="s">"0.0"</span>
    <span class="na">android:duration=</span><span class="s">"1000"</span>
    <span class="na">android:startOffset=</span><span class="s">"1000"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/set&gt;</span></code></pre></div>

<p>To conclude this rudimentary introduction to view animation, an interface is worth mentioning: <code>AnimationListener</code>. Suppose we wish to hide our view after an animation completes or just listen to animation events. All we have to do is:</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Animation</span> <span class="n">fadeOut</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AlphaAnimation</span><span class="o">(</span><span class="mi">1</span><span class="n">f</span><span class="o">,</span> <span class="mi">0</span><span class="n">f</span><span class="o">);</span>
<span class="n">fadeOut</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">fadeOut</span><span class="o">.</span><span class="na">setAnimationListener</span><span class="o">(</span><span class="k">new</span> <span class="n">Animation</span><span class="o">.</span><span class="na">AnimationListener</span><span class="o">()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationStart</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Do something when fadeOut starts</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationRepeat</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Do something if fadeOut is repeated</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationEnd</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">view</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">INVISIBLE</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">});</span>

<span class="n">view</span><span class="o">.</span><span class="na">startAnimation</span><span class="o">(</span><span class="n">fadeOut</span><span class="o">);</span></code></pre></div>

<p>If you wish to spice things up by browsing through some actual code, I’ve created a simple app showing random View animations. You can find it <a href="https://github.com/tslamic/AndroidExamples/tree/master/SimpleAnimationsExample">here</a>.</p>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="/tags/#android" title="Pages tagged android" class="tag"><span class="term">android</span></a><a href="/tags/#animation" title="Pages tagged animation" class="tag"><span class="term">animation</span></a><a href="/tags/#view" title="Pages tagged view" class="tag"><span class="term">view</span></a><a href="/tags/#interpolator" title="Pages tagged interpolator" class="tag"><span class="term">interpolator</span></a></span>
        
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=/view-animations-on-android/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=/view-animations-on-android/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=/view-animations-on-android/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="/twos-complement-and-absolute-values/" class="read-more-btn">Read More</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="/builders-and-required-params/" title="Builders and required params">Builders and required params</a></h3>
      <p>How to handle builders with required parameters <a href="/builders-and-required-params/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="/creating-android-device-names/" title="Creating AndroidDeviceNames">Creating AndroidDeviceNames</a></h4>
        <span>Published on August 22, 2015</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="/sync-folders-with-python/" title="Sync folders with Python">Sync folders with Python</a></h4>
        <span>Published on May 30, 2015</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2017 Tadej Slamic. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/" rel="notfollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44812127-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>



    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'tslamic'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	        

</body>
</html>
